# LVGL Modern C++ å°è£…

åŸºäºwxUIè®¾è®¡ç†å¿µçš„ç°ä»£åŒ–LVGL C++å°è£…ï¼Œå®ç°å£°æ˜å¼UIã€å»¶è¿Ÿæ„é€ ã€ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€çº¿ç¨‹å®‰å…¨å’Œå“åº”å¼ç¼–ç¨‹ã€‚

## ğŸ¯ è®¾è®¡ç›®æ ‡

1. **å£°æ˜å¼ç¼–ç¨‹** - ä»£ç å³å¸ƒå±€ï¼Œç»“æ„æ¸…æ™°
2. **å»¶è¿Ÿæ„é€ ** - æŒ‰éœ€åˆ›å»ºå¯¹è±¡ï¼Œä¼˜åŒ–æ€§èƒ½
3. **ç”Ÿå‘½å‘¨æœŸç®¡ç†** - è‡ªåŠ¨å†…å­˜ç®¡ç†ï¼Œé˜²æ­¢æ³„æ¼
4. **çº¿ç¨‹å®‰å…¨** - å¤šçº¿ç¨‹ç¯å¢ƒä¸‹çš„å®‰å…¨è®¿é—®
5. **å“åº”å¼ç¼–ç¨‹** - æ•°æ®é©±åŠ¨çš„UIæ›´æ–°
6. **ç±»å‹å®‰å…¨** - ç¼–è¯‘æ—¶é”™è¯¯æ£€æŸ¥
7. **é›¶æˆæœ¬æŠ½è±¡** - é«˜çº§APIä¸ç‰ºç‰²æ€§èƒ½

## ğŸ—ï¸ æ ¸å¿ƒæ¶æ„

```
ç”¨æˆ·APIå±‚ (VBox, Button, Label...)
    â†“
æŠ½è±¡æ¥å£å±‚ (WidgetBase, Container)
    â†“
æ¦‚å¿µçº¦æŸå±‚ (Drawable, Styleable)
    â†“
çº¿ç¨‹å®‰å…¨å±‚ (ThreadSafeProxy, EventQueue)
    â†“
å“åº”å¼å±‚ (Observable, DataBinding)
    â†“
LVGLåŸç”Ÿå±‚ (lv_obj_t, lv_style_t...)
```

## ğŸš€ ç‰¹æ€§é¢„è§ˆ

### å£°æ˜å¼UIæ„å»º
```cpp
using namespace lvgl_modern;

VBox {
    Label { "Hello LVGL!" }
        .fontSize(24)
        .color(Color::Blue),
        
    HBox {
        Button { "OK" }
            .onClick([](){ /* handle */ }),
        Button { "Cancel" }
            .onClick([](){ /* handle */ })
    }.spacing(10),
    
    Slider { 0, 100, 50 }
        .onValueChanged([](int value) {
            std::cout << "Value: " << value << std::endl;
        })
}.padding(20).fitTo(screen);
```

### å“åº”å¼æ•°æ®ç»‘å®š
```cpp
auto counter = Observable<int>(0);
auto label = Label::create();

// æ•°æ®ç»‘å®š - å½“counterå˜åŒ–æ—¶è‡ªåŠ¨æ›´æ–°label
label->bindText(counter.map([](int n) { 
    return "Count: " + std::to_string(n); 
}));

// è§¦å‘æ›´æ–°
counter.set(42); // labelè‡ªåŠ¨æ˜¾ç¤º "Count: 42"
```

### çº¿ç¨‹å®‰å…¨æ“ä½œ
```cpp
// ä»ä»»æ„çº¿ç¨‹å®‰å…¨æ›´æ–°UI
std::thread worker([&]() {
    for (int i = 0; i < 100; ++i) {
        // çº¿ç¨‹å®‰å…¨çš„UIæ›´æ–°
        ThreadSafe::post([i, &progressBar]() {
            progressBar->setValue(i);
        });
        std::this_thread::sleep_for(100ms);
    }
});
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
lvgl_modern/
â”œâ”€â”€ include/
â”‚   â”œâ”€â”€ lvgl_modern/
â”‚   â”‚   â”œâ”€â”€ core/           # æ ¸å¿ƒåŸºç¡€è®¾æ–½
â”‚   â”‚   â”œâ”€â”€ widgets/        # æ§ä»¶å°è£…
â”‚   â”‚   â”œâ”€â”€ layouts/        # å¸ƒå±€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ reactive/       # å“åº”å¼ç¼–ç¨‹
â”‚   â”‚   â”œâ”€â”€ threading/      # çº¿ç¨‹å®‰å…¨
â”‚   â”‚   â””â”€â”€ lvgl_modern.hpp # ç»Ÿä¸€å¤´æ–‡ä»¶
â”‚   â””â”€â”€ mock_lvgl/          # LVGL Mockå®ç°
â”œâ”€â”€ src/                    # å®ç°æ–‡ä»¶
â”œâ”€â”€ examples/               # ç¤ºä¾‹ç¨‹åº
â”œâ”€â”€ tests/                  # å•å…ƒæµ‹è¯•
â””â”€â”€ docs/                   # æ–‡æ¡£
```

## ğŸ”§ æ„å»ºè¦æ±‚

- C++20å…¼å®¹ç¼–è¯‘å™¨
- CMake 3.20+
- LVGL 8.3+ (æˆ–ä½¿ç”¨å†…ç½®Mock)

## ğŸ“š æ ¸å¿ƒæ¦‚å¿µ

### 1. å»¶è¿Ÿæ„é€  (Lazy Construction)
å¯¹è±¡åœ¨å£°æ˜æ—¶åˆ›å»º"è“å›¾"ï¼Œåœ¨`fitTo()`æˆ–`show()`æ—¶æ‰å®é™…åˆ›å»ºLVGLå¯¹è±¡ã€‚

### 2. æ™ºèƒ½ç”Ÿå‘½å‘¨æœŸç®¡ç†
ä½¿ç”¨RAIIå’Œæ™ºèƒ½æŒ‡é’ˆè‡ªåŠ¨ç®¡ç†LVGLå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸã€‚

### 3. çº¿ç¨‹å®‰å…¨ä»£ç†
æ‰€æœ‰UIæ“ä½œé€šè¿‡çº¿ç¨‹å®‰å…¨ä»£ç†è¿›è¡Œï¼Œç¡®ä¿å¤šçº¿ç¨‹ç¯å¢ƒä¸‹çš„å®‰å…¨æ€§ã€‚

### 4. å“åº”å¼æ•°æ®æµ
é€šè¿‡Observableå’Œæ•°æ®ç»‘å®šå®ç°å“åº”å¼UIæ›´æ–°ã€‚

### 5. ç±»å‹å®‰å…¨è®¾è®¡
ä½¿ç”¨C++20 Conceptsç¡®ä¿ç¼–è¯‘æ—¶ç±»å‹å®‰å…¨ã€‚
